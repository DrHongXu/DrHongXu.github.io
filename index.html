<!DOCTYPE html>
<!--[if lt IE 7 ]><html class="ie ie6" lang="en"> <![endif]-->
<!--[if IE 7 ]><html class="ie ie7" lang="en"> <![endif]-->
<!--[if IE 8 ]><html class="ie ie8" lang="en"> <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!-->
<html lang="en">
<!--<![endif]-->

<head>

  <!-- Basic Page Needs
  ================================================== -->
  <meta charset="utf-8">
  <title>Dr. Hong Xu | Clean Energy</title>
  <meta name="description" content="">
  <meta name="author" content="">

  <!-- Mobile Specific Metas
  ================================================== -->
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <!-- CSS
  ================================================== -->
  <link rel="stylesheet" href="stylesheets/base.css">
  <link rel="stylesheet" href="stylesheets/skeleton.css">
  <link rel="stylesheet" href="stylesheets/layout.css">
  <link rel="stylesheet" href="stylesheets/style.css">
  <link rel="stylesheet" href="stylesheets/navi5.css">
  <link rel="stylesheet" href="stylesheets/navi6.css">
  <link rel="stylesheet" href="stylesheets/type.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->

  <!-- Favicons
  ================================================== -->
  <link rel="shortcut icon" href="">

  <!-- Google Analytics Tracking Code
  ================================================== -->
  <!-- 
   <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-8161570-5', '');
    ga('send', 'pageview');
  </script>
  -->

  <style>
    .video-container {
        position: relative;
        width: 100%;
        height: 0;
        padding-bottom: 56.25%; /* This value is for a 16:9 aspect ratio. Adjust as needed for your video */
        overflow: hidden;
    }
    
    .video-container video {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }
    </style>

  <script type="module">
    async function fetchCountries() {
      const response = await fetch('/js/countries.json');
      const countries = await response.json();
      return countries;
    }

    function getCountryNameByCode(countries, code, language = 'english') {
      const country = countries.find(country => country.abbr === code);

      if (country) {
        return country[language] || country.english;
      } else {
        return 'mondo';
      }
    }

    async function displayCountryName() {
      const countries = await fetchCountries();
      const response = await fetch('https://ipinfo.io/json?token=228a7bb192c4fc');
      const data = await response.json();
      const countryCode = data.country;
      const language = 'english'; // 更改为您想要显示的语言
      const countryName = getCountryNameByCode(countries, countryCode, language);
      document.getElementById("location").textContent = countryName;
      document.getElementById("location2").textContent = countryName;
    }

    document.addEventListener('DOMContentLoaded', displayCountryName);
  </script>

  <!-- block save as
      ================================================== -->
  <script type="text/javascript">
    window.onload = function () {
      document.onkeydown = function () {
        var e = window.event || arguments[0];
        //屏蔽F12
        if (e.keyCode == 123) {

          return false;
          //屏蔽Ctrl+Shift+I
        } else if ((e.ctrlKey) && (e.shiftKey) && (e.keyCode == 73)) {

          return false;
          //屏蔽Shift+F10
        } else if ((e.shiftKey) && (e.keyCode == 121)) {

          return false;
        }
      };
      //屏蔽右键单击
      document.oncontextmenu = function () {

        return false;
      }
    }
  </script>

  <script src="js/language.js"></script>


  <nav class="display-mobile">

    <div class='nav-container'>
      <div>
        <a class='slide' href='#'>
          <span class='element'>H</span>
          <span class='name'>Hong</span>
        </a>
      </div>
      <div>
        <a class='slide' href='#education'>
          <span class='element'>Ed</span>
          <span class='name'>Education</span>
        </a>
      </div>
      <div>
        <a class='slide' href='#research-interests'>
          <span class='element'>Re</span>
          <span class='name'>Research</span>
        </a>
      </div>
      <div>
        <a class='slide' href='#publications'>
          <span class='element'>Pb</span>
          <span class='name'>Publication</span>
        </a>
      </div>
      <div>
        <a class='slide' href='#awards'>
          <span class='element'>Ad</span>
          <span class='name'>Awards</span>
        </a>
      </div>
      <div>
        <a class='slide' href='#contact'>
          <span class='element'>C</span>
          <span class='name'>Contact</span>
        </a>
      </div>
      <div>
        <a class='slide' href="https://www.linkedin.com/in/xuhong/" target="_blank">
          <span class='element'>In</span>
          <span class='name'>LinkedIn</span>
        </a>
      </div>
      <div>
        <a class='slide' href="mailto:h.xu@tum.de" target="_blank">
          <span class='element'>Em</span>
          <span class='name'>Email</span>
        </a>
      </div>
      <div>
        <a class='slide' href="https://scholar.google.com/citations?user=UNchM2kAAAAJ&hl=en" target="_blank">
          <span class='element'>Sc</span>
          <span class='name'>Scholar</span>
        </a>
      </div>


    </div>
  </nav>

</head>

<body>

  <div id="extracted-content"></div>

  <script>
      // Function to load and extract content from another HTML file
      function extractContent() {
          // Replace 'source.html' with the path to the HTML file you want to extract content from
          fetch('en.html')
              .then(response => response.text())
              .then(data => {
                  const parser = new DOMParser();
                  const doc = parser.parseFromString(data, 'text/html');
                  const bodyContent = doc.querySelector('body').innerHTML;
                  document.getElementById('extracted-content').innerHTML = bodyContent;
              })
              .catch(error => {
                  console.error('Error loading the source HTML:', error);
              });
      }

      // Call the extractContent function when the page loads
      window.addEventListener('load', extractContent);
  </script>



<script>
  document.addEventListener('DOMContentLoaded', function() {
      var languageMap = {
          'en': 'en.html',
          'de': 'de.html',
          'fr': 'fr.html',
          'es': 'es.html',
          'it': 'it.html',
          'ru': 'ru.html',
          'zh': 'cn.html',
          'ja': 'jp.html',
          'ko': 'kr.html'
      };

      // Function to get the language code from the URL
      function getLangFromURL() {
          var currentURL = window.location.href;
          var urlParts = currentURL.split('/');
          var page = urlParts[urlParts.length - 1];
          return Object.keys(languageMap).find(key => languageMap[key] === page);
      }

      var savedLang = localStorage.getItem('preferredLang');
      var userLang = navigator.language || navigator.userLanguage; 
      var shortLang = userLang.substring(0, 2);

      // Redirect only if there is no saved preference and the browser language is different from the current page
      if (!savedLang && getLangFromURL() !== shortLang && languageMap[shortLang]) {
          localStorage.setItem('preferredLang', shortLang); // Save the browser language as preferred
          window.location.href = languageMap[shortLang];
      }

      var languageSelect = document.getElementById('languages');
      languageSelect.addEventListener('change', function() {
          var selectedLang = this.options[this.selectedIndex].value;
          localStorage.setItem('preferredLang', selectedLang); // Update the preferred language
          window.location.href = selectedLang;
      });

      // Set the select value to the current language
      var currentLang = getLangFromURL();
      if (currentLang && languageMap[currentLang]) {
          languageSelect.value = languageMap[currentLang];
      }
  });
</script>




  <!-- End Document
================================================== -->
</body>

</html>
